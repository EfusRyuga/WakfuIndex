<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Wakfu Index</title>
  <link rel="icon" type="image/x-icon" href="./favicon.png">
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-gray-100">

  <!-- Header -->
  <div class="flex justify-between p-6 items-center">
    <h1 class="text-2xl font-bold">Wakfu Index</h1>
  </div>
  <div class="underline float-right -mt-12 mr-3 flex flex-col space-y-2 items-center">
    <a href="./discords.html" class="">Wakfu Indexer Discord</a>
    <a href="./fandevs.html" class="">Wakfu Indexer Fandevs</a>
  </div>
  <div class = "p-7 items-center -mt-12">
    <a href="./readme.html" class="underline">readme / info</a>
  </div>

  <!-- Search + Tags -->
  <div class="flex flex-col items-center gap-6 mt-10 mb-10">
    <h2 class="text-2xl font-bold text-center">Sites et Outils fandev</h2>
    <!-- Search bar -->
    <input 
      id="searchInput" 
      type="text" 
      placeholder="Rechercher un site ou un outil..." 
      class="px-5 py-2 rounded-full border border-gray-600 bg-gray-800 text-gray-100 w-full max-w-md text-center shadow-sm"
    >
    <!-- Tags -->
    <div class="flex flex-wrap justify-center gap-3" id="tagFilter"></div>
  </div>

  <!-- Grid of Websites -->
  <main class="flex-grow pb-12">
    <div id="grid" class="grid gap-8 p-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"></div>
  </main>

  <!-- Footer -->
  <footer class="fixed bottom-0 w-full p-2 text-center text-xs text-gray-400 border-t border-gray-700 bg-gray-900">
    <a href="https://www.wakfu.com/fr/mmorpg" class="text-blue-400">WAKFU</a> est un MMORPG édité par Ankama. Ce site est un site non-officiel sans aucun lien avec Ankama. (même si on les aime fort !♥️)
  </footer>


  <!-- Script -->
  <script>
    // tags actuels : ### Builder ### WIP ### Guides ### Encyclopédie ### Stratégies ### Calculateur ### Tool ### INT ###
    //{ name: "", url:"", icon: "", tags: [""], description: ""},
    let websites = [
      { name: "ZenithWakfu", url: "https://zenithwakfu.com", icon: "./siteico/zenith-logo.webp", tags: ["Builder"],description: "Zenith Wakfu est LE builder historique de Wakfu."},
      { name: "Wakfuli", url: "https://wakfuli.com", icon: "./siteico/wakfuli.ico", tags: ["Builder", "WIP"],description: "Wakfuli est un builder actuellement en alpha fermée. L'équipe veut mettre l'accent sur le maintien de mises à jour et des fonctionnalités manquantes de Zenith"},
      { name: "Wakfu Method Reborn", url: "https://methodwakfu.com/", icon: "./siteico/method.ico", tags: ["Stratégies","Guides","Encyclopédie"],description: "Wakfu Method Reborn est un reboot de Wakfu Method. Le site référence de nombreux tutoriels divers ainsi que des strats de donjon très détaillées." },
      { name: "WakfuCalc", url: "https://sites.google.com/view/wakfucalc/fr/calc", icon: "./siteico/wakfucalc.png", tags: ["Calculateur"],description: "WakfuCalc est un fichier excel en ligne qui regroupe de très nombreux calculs comme les dégâts, le soin, l'armure et bien d'autres."},
      { name: "Gearfu", url: "https://naquos.github.io/Gearfu/", icon: "./siteico/gearfu.ico", tags: ["Encyclopédie","Builder"],description: "Gearfu est un outil qui permet de trier et de filtrer les équipements en fonction des caractéristiques que vous recherchez. C'est un très bon outil complémentaire aux builders existants."},
      { name: "Stratfu", url:"https://docs.google.com/spreadsheets/d/1mFfXCpF_maoiPMBL6oN_PquvHYkGMmJveN3r5dP6ADw/", icon: "/siteico/stratfu.png", tags: ["Stratégies"], description: "Stratfu est un google sheets avec l'intégralité des stratégies des Donjon, des conseils et astuce vous permettant de mieux comprendre et de réussir vos donjons sur WAKFU !"},
      { name: "Calculateur de loot d'Enio", url:"https://eniowakfu.github.io/wakfu-tools/", icon: "", tags: ["Calculateur"], description: "Enio est un ancien développeur du jeu qui avait fait sur son temps libre un calculateur de drop du jeu !"},
      { name: "Wakfu.Guide", url:"https://wakfu.guide/", icon: "./siteico/wakfuguide.webp", tags: ["Guides","Stratégies"], description: "Wakfu.Guide est le site de Nozadah, il y a écrit de nombreux tutos et des stratégies rapides pour les donjons."},
      { name: "havre-sac.fr", url:"https://havre-sac.fr/", icon: "./siteico/havresac.png", tags: ["Guides"], description: "Un petit site ayant pour but de répondre aux questions récurrentes des joueurs. Un accent est mis sur l'explication aux nouveaux joueurs, pour leur permettre d'aborder le jeu facilement."},
      { name: "Waklaboratory", url:"https://waklaboratory.fr/", icon: "./siteico/waklaboratory.ico", tags: ["Encyclopédie","WIP"], description: "Waklaboratory avait pour but d'être une encyclopédie ultime. Malheureusement le site ne semble aujourd'hui plus actif."},
      { name: "Wikfu", url:"https://wikfu.com/fr/", icon: "./siteico/wikfu.png", tags: ["Calculateur","WIP"], description: "Site qui semble être en WIP, il propose un calculateur pour les métiers et un mini jeu démineur."},
      { name: "Wakforge", url:"https://wakforge.org/", icon: "./siteico/WakForge-Logo.ico", tags: ["Builder","Guides"], description: "Builder qui est une alternative à Zenith, le site propose aussi des guides."},
      { name: "Craftku", url:"https://craftkfu.waklab.fr/", icon: "./siteico/craftku.ico", tags: ["Calculateur"], description: "Craftku est un site qui permet de prévoir le nombre de ressources nécessaires pour crafter des objets."},
      { name: "Jobkfu", url:"https://vertylo.github.io/jobkfu/", icon: "", tags: ["Calculateur"], description: "Jobkfu est un calculateur qui permet de prévoir combien de ressources sont nécessaires pour monter de niveau de métier."},
      { name: "Wakfu Theme Viewer", url:"https://wakfu-theme-viewer.waklab.fr/", icon: "", tags: ["Tool"], description: "Site qui permet aux créateurs de thèmes de s'y retrouver plus facilement."},
      { name: "Wakfu Modding Tool", url:"https://www.mikkoku-chan.com/wakfu-modding/", icon: "", tags: ["Tool","WIP"], description: "Outil qui devrait permettre à terme de faciliter la personnalisation de thème."},
      { name: "Chachassistant", url:"https://chachastuce.fr/", icon: "./siteico/chachassistant.png", tags: ["Tool"], description: "Le chachassistant est un outil qui se lance sur votre ordinateur et qui permet de vous notifier pour des quetes environnementales. L'outil sert aussi de tracker d'exploit et de timer d'archimonstre."},
      { name: "Waktisanat", url:"https://waktisanat.waklab.fr/", icon: "./siteico/waktisanat.png", tags: ["Calculateur","Tool"], description: "WakTisanat est un bot Discord et un site web dont l'objectif est de consulter les objets du jeu afin de préparer votre farm à l'avance. Il s'agit également d'un annuaire répertoriant les artisans enregistrés et vous permettant de faire des demandes afin de simplifier votre farm dans le jeu."},
      { name: "Boss et Modulox du Jour", url:"https://docs.google.com/spreadsheets/d/1YXdxmQC9U3Ux7AuNnT8Cm3DR7kp1YYHenWuU3eQ5wbY/edit?gid=1287918499#gid=1287918499", icon: "", tags: ["Encyclopédie"], description: "Il s'agit d'un google sheet qui donne la liste de tous les boss du jour et modulox d'aujourd'hui et des jours à venir."},
      { name: "Bestiário Wakfu", url:"https://bestiariodoneze.com.br/", icon: "./siteico/BestarioWakfu.ico", tags: ["Stratégies","Calculateur","INT"], description: "Site brésilien qui regroupe de très nombreuses stratégies et des calculateurs."},
      { name: "Mythe Calculadrop", url:"https://efusryuga.github.io/Mythe-Calculadrop/", icon: "./siteico/Mythe.jpg", tags: ["Calculateur"], description: "Un de mes outils, il s'agit d'un calculateur de drop basé sur celui d'Enio qui se veut plus user friendly (notamment avec des valeurs build-in)"},
      { name: "Temps Wakfu", url:"https://efusryuga.github.io/TempsWakfu", icon: "./siteico/efus.png", tags: ["Tool"], description: "Un de mes outils, qui permet juste de savoir s'il fait jour ou nuit (pratique pour les quêtes de la pandalousie)."},
      { name: "Ladder-View", url:"https://efusryuga.github.io/Ladder-View/", icon: "./siteico/efus.png", tags: ["Tool"], description: "Un de mes outils, qui permet d'avoir une vision des métas actuelles (n'est pas mis à jour très régulièrement, les datas étant une purge à récupérer)."},
      { name: "RandMonsterWakfu", url:"https://efusryuga.github.io/randmonsterwakfu/", icon: "./siteico/efus.png", tags: ["Tool"], description: "Un de mes outils, qui sert en gros de visionneuse de sprite du jeu"},
      { name: "Ratios de sorts de Liro", url:"https://docs.google.com/spreadsheets/d/1tqPaE3ztpT88BjIyAbSK78EsxYXGcu98ZPlyiMFbWn8/", icon: "./siteico/liro.jpg", tags: ["Encyclopédie"], description: "google sheet qui répertorie tous les ratios de sorts de toutes les classes du jeu."},
      { name: "Ratios de sorts de Vicky", url:"https://docs.google.com/spreadsheets/d/1b5t-ETinp8tKytinLFvoqagfgm1uVHqbunWhoXOMeE8/", icon: "", tags: ["Encyclopédie"], description: "google sheet qui répertorie tous les ratios de sorts de toutes les classes du jeu."},
      { name: "Sublimations : Intéractions et synergies", url:"https://docs.google.com/spreadsheets/d/1pBTij6cmB00vVKCfCfy43H-ukZzJccH_iRaciw1lODs/", icon: "./siteico/liro.jpg", tags: ["Encyclopédie","Guides"], description: "Il s'agit d'un google sheet qui regroupe tout un tas d'information sur les sublimations."},
      { name: "Wakfu - Eclats / Shards", url:"https://docs.google.com/spreadsheets/d/1ma3v4yZz1RUnooZ1tpGSmIpteQZ-_ds5cXI1Ove-IGA/", icon: "./siteico/liro.jpg", tags: ["Encyclopédie"], description: "Il s'agit d'un google sheet qui montre combien d'éclat rapporte le brisage en fonction du niveau de l'objet brisé."},
      { name: "Chasse au boss & Modulox", url:"https://docs.google.com/spreadsheets/d/1GIHR6QV5XMm9EMXQrJu90vFNR7umGLwjb_Isbrx9_So/", icon: "./siteico/liro.jpg", tags: ["Encyclopédie"], description: "Il s'agit d'un google sheet qui donne la liste de tous les boss du jour et modulox d'aujourd'hui et des jours à venir."},
      { name: "Effets applicables par les joueurs", url:"https://docs.google.com/spreadsheets/d/10Bh_4XoqDR6mLXwsEZBQWNX6suqHdGb_Xdaf_dkuJNs/", icon: "./siteico/liro.jpg", tags: ["Encyclopédie","WIP"], description: "Il s'agit d'un google sheet qui répertorie tous les états que peuvent appliquer les joueurs avec de nombreux détails."},
      { name: "Farm config", url:"https://docs.google.com/spreadsheets/d/1dvwtcEyFsntERdp7zEsUwkgY4PVN41L5CkzGsGFw46I/", icon: "", tags: ["Calculateur","Encyclopédie"], description: "google sheet à copier pour pouvoir planifier et quantifier les gains liés au farm"},
      { name: "Opti Récolte métiers", url:"https://docs.google.com/document/d/1AYA0lCbsucb9KEiAaYtGNvCAVnOtk5YN-H941XDklEg/", icon: "", tags: ["Guides"], description: "Google docs pour optimiser le farm métier !"},
    ];
    websites = websites.sort(() => Math.random() - 0.5)
    const grid = document.getElementById("grid");
    const tagFilter = document.getElementById("tagFilter");
    const searchInput = document.getElementById("searchInput");

    let selectedTag = null;
    let searchTerm = "";

    function renderSites() {
      grid.innerHTML = "";
      websites
        .filter(site => 
          (!selectedTag || site.tags.includes(selectedTag)) &&
          (site.name.toLowerCase().includes(searchTerm.toLowerCase()))
        )
        .forEach(site => {
          const tile = document.createElement("a");
          tile.href = site.url;
          tile.target = "_blank";
          tile.className = "relative group p-6 rounded-2xl shadow-md bg-gray-800 flex flex-col items-center hover:scale-105 transition";
          const defaultimgpath = "./siteico/default.png"
          // Use the unique description in tooltip
          tile.innerHTML = `
            <div class="flex flex-col items-center flex-grow">
              <img src="${site.icon}"  onerror="this.onerror=null; this.src='${defaultimgpath}';" alt="${site.name}" class="w-16 h-16 mb-3">
              <span class="font-semibold">${site.name}</span>
            </div>
            <div class="flex flex-wrap justify-center gap-1 mt-4 -mb-4">
              ${site.tags.map(tag => `<span class="px-2 py-0.5 text-xs rounded-full bg-gray-700 text-white">${tag}</span>`).join('')}
            </div>
            <div class="absolute ml-2 top-1/2 -translate-y-1/2 px-3 py-1 rounded-lg bg-gray-500 text-white text-sm opacity-0 group-hover:opacity-100 transition-opacity max-w-xs text-center"
              style="transition-delay: 0.75s;">
              ${site.description}
            </div>
          `;

          grid.appendChild(tile);
        });
    }


    // Render tag filters
    const tags = [...new Set(websites.flatMap(s => s.tags))].sort();
    tags.forEach(tag => {
      const btn = document.createElement("button");
      btn.textContent = tag;
      btn.className = "px-4 py-1.5 rounded-full bg-gray-700 transition";
      btn.onclick = () => {
        if (selectedTag === tag) {
          selectedTag = null;
          btn.classList.remove("bg-gray-400", "text-white");
          btn.classList.add("bg-gray-700");
        } else {
          [...tagFilter.children].forEach(b => {
            b.classList.remove("bg-gray-400", "text-white");
            b.classList.add("bg-gray-700");
          });
          selectedTag = tag;
          btn.classList.remove("bg-gray-700");
          btn.classList.add("bg-gray-400", "text-white");
        }
        renderSites();
      };
      tagFilter.appendChild(btn);
    });

    // Search input
    searchInput.addEventListener("input", (e) => {
      searchTerm = e.target.value;
      renderSites();
    });
    // Initial render
    renderSites();
  </script>
</body>
</html>
